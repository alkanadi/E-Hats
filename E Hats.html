<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
                
        <title>E Hats</title>
        
        <script type="text/javascript">
            //<![CDATA[
            
            const map = {
                "au" : "aŭ",
                "eu" : "eŭ",
                
                "gx" : "ĝ",
                "cx" : "ĉ",
                "hx" : "ĥ",
                "jx" : "ĵ",
                "sx" : "ŝ",
                "ux" : "ŭ",
                
                "AU" : "AŬ",
                "EU" : "EŬ",
                
                "GX" : "Ĝ",
                "CX" : "Ĉ",
                "HX" : "Ĥ",
                "JX" : "Ĵ",
                "SX" : "Ŝ",
                "UX" : "Ŭ"
            };
            
            const pattern = /(([gchjsuGCHJSU])[xX])|(([aeAE])[uU])/gm;
            
            function check() {
                const textArea = document.getElementById('textArea');
                let text = textArea.value;
                let result = null;
                
                if ((result = text.match(pattern)) != null) {
                    for (var index in result) {
                        const match = result[index];
                        text = text.replace(match, map[match]);
                    }
                }
                
                textArea.value = text;
            }
            //]]>
        </script>
    </head>
    
    <body>
        <textarea id="textArea"
                  onkeyup="check()"
                  style="height: 300px; width: 80%;">
        </textarea>
    </body>
</html>
